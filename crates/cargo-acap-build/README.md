```console
$ cargo-acap-build -h
Build app using cargo

Usage: cargo-acap-build [OPTIONS] [ARGS]...

Arguments:
  [ARGS]...  Pass additional arguments to `cargo build`

Options:
      --target <TARGET>  If given, build only for the given architecture(s) [possible values: aarch64, armv7hf]
  -h, --help             Print help (see more with '--help')
  -V, --version          Print version
```

## Application project structure

A simple project will look something like:

- `<PACKAGE_ROOT>/`: Directory in which the package manifest is located[^1].
    - `Cargo.toml`: Package manifest[^2] describing the binary crate that will be included in the
      app.
        - `src/`
            - `main.rs`: Conventional location for the executable[^3].
    - `manifest.json` Application manifest defining the app and its configuration[^5].
      If absent, the resulting artifact will be a plain executable instead of an EAP.
    - `application-files`: Other files to be included in the EAP.
      - `LICENSE`: Mandatory open source acknowledgements[^4].
      - `html/`: Web client pages to include in the app[^6][^7].
      - `lib/`: Dynamically linked libraries to include in the app[^6][^7].
      - `<more files>`: More files to include in the app[^7].
        Some names, such as `manifest.json` and `package.conf`, are not allowed.

Some files and directories may be generated by a build script[^8] and placed in `<OUT_DIR>/`[^9] instead of in `<PACKAGE_ROOT>/`:

- `manifest.json`: Must exist in exactly one of the locations.
- `application-files/<file name>`: Though `application-files/` may exist in both locations, files inside the directory must exist at most once.

In addition to the above structure this tool makes the following assumptions:

- The package name (`package.name` in `Cargo.toml`) matches the app name (`acapPackageConf.setup.appName` in `manifest.json`).
- The package version (`package.version` in `Cargo.toml`) matches the app version (`acapPackageConf.setup.version` in `manifest.json`).

[^1]: Defined in <https://doc.rust-lang.org/cargo/appendix/glossary.html#package>
[^2]: Documented in <https://doc.rust-lang.org/cargo/reference/manifest.html>
[^3]: A conventional Rust package layout is described in <https://doc.rust-lang.org/cargo/guide/project-layout.html>
[^4]: Documented in <https://axiscommunications.github.io/acap-documentation/docs/develop/application-project-structure.html#license-file>
[^5]: Documented in <https://axiscommunications.github.io/acap-documentation/docs/develop/application-project-structure.html#manifest-file>
[^6]: Mentioned in <https://axiscommunications.github.io/acap-documentation/docs/develop/application-project-structure.html>
[^7]: Mentioned in <https://axiscommunications.github.io/acap-documentation/docs/develop/build-install-run.html#build-tool>
[^8]: Documented in <https://doc.rust-lang.org/cargo/reference/build-scripts.html>
[^9]: One of many variables set for build scripts: <https://doc.rust-lang.org/cargo/reference/environment-variables.html#environment-variables-cargo-sets-for-build-scripts>
